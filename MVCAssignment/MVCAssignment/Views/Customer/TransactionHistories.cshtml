@model IEnumerable<MVCAssignment.Models.TransactionHistory>

@{

    //id tid ct pt transactionstatus
    ViewData["Title"] = "TransactionHistories";

    Layout = "~/Views/Shared/CustomerAfterLoginMenuBag.cshtml";
}
<html>
<head>
    <style></style>
</head>
<body  style="background:linear-gradient(200deg,#ffff99,#ffcc66)">
    <section style="padding:100px">
        <h1>Transaction Histories</h1>

        <div style="border:1px solid black;background:linear-gradient(200deg,#e0e0d1,#adad85);width：800px">
            <table class="table" style="padding:0px 50px;">
                <thead style="background-color:#e0e0d1">
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.TransactionId)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.CreateTime)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.PaidTime)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.TransactionStatus)
                        </th>
                        <th></th>

                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.Where(e => e.TransactionStatus == "Pending"))
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.TransactionId)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CreateTime)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.PaidTime)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.TransactionStatus)
                            </td>

                            <td>

                                @{

                                    string CartIdList = "";
                                    CartIdList = item.CartList;//"1|2|4 "

                                   
                                }
                                <a class="btn btn-success" href="~/Payment/PaymentCheckoutPage?Amount=@item.SubTotal&CartIdList=@CartIdList">Paid</a>
                                @*                <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                            <a asp-action="Details" asp-route-id="@item.Id">Details</a> |
                            <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>*@
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <br />
        <br />
        <br />


        @foreach (var item in Model)
        {
 
                <div style="border:1px solid black;background:linear-gradient(200deg,#e0e0d1,#adad85);width：800px">
                    <table class="table" style="padding:0px 50px;">
                        <thead style="background-color:#e0e0d1">
                            <tr>
                                <th>
                                    @Html.DisplayNameFor(model => model.TransactionId)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.CreateTime)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.PaidTime)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.TransactionStatus)
                                </th>
                                <th></th>

                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item2 in Model.Where(e => e.TransactionStatus == "Success"))
                            {
                                <tr>
                                    <td>
                                        @Html.DisplayFor(modelItem => item2.TransactionId)
                                    </td>
                                    <td>
                                    @Html.DisplayFor(modelItem => item2.CreateTime)
                                    </td>
                                    <td>
                                    @Html.DisplayFor(modelItem => item2.PaidTime)
                                    </td>
                                    <td>
                                    @Html.DisplayFor(modelItem => item2.TransactionStatus)
                                    </td>

                                    <td>
@*
                                        @{

                                            string CartIdList = "";
                                            CartIdList = item.CartList;//"1|2|4 "


                                        }
                                        <a class="btn btn-primary" href="~/Customer/Receipt?Amount=@item.SubTotal&CartIdList=@CartIdList">View</a>*@

                                        @*                <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                            <a asp-action="Details" asp-route-id="@item.Id">Details</a> |
                            <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>*@
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                break;
        }
       
    </section>

    <div style="width:100%;">

        <footer style="background-color: #deded5;flex:0 0 auto;">
            <div class="container p-4">
                <div class="row">
                    <div class="col-lg-6 col-md-12 mb-4">
                        <h5 class="mb-3" style="letter-spacing: 2px; color: #818963;">footer content</h5>
                        <p>
                            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis
                            molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam
                            voluptatem veniam, est atque cumque eum delectus sint!
                        </p>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-4">
                        <h5 class="mb-3" style="letter-spacing: 2px; color: #818963;">links</h5>
                        <ul class="list-unstyled mb-0">
                            <li class="mb-1">
                                <a href="#!" style="color: #4f4f4f;">Frequently Asked Questions</a>
                            </li>
                            <li class="mb-1">
                                <a href="#!" style="color: #4f4f4f;">Delivery</a>
                            </li>
                            <li class="mb-1">
                                <a href="#!" style="color: #4f4f4f;">Pricing</a>
                            </li>
                            <li>
                                <a href="#!" style="color: #4f4f4f;">Where we deliver?</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-4">
                        <h5 class="mb-1" style="letter-spacing: 2px; color: #818963;">opening hours</h5>
                        <table class="table" style="color: #4f4f4f; border-color: #666;">
                            <tbody>
                                <tr>
                                    <td>Mon - Fri:</td>
                                    <td>8am - 9pm</td>
                                </tr>
                                <tr>
                                    <td>Sat - Sun:</td>
                                    <td>8am - 1am</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
                © 2020 Copyright:
                <a class="text-dark" href="https://mdbootstrap.com/">MDBootstrap.com</a>
            </div>
            <!-- Copyright -->
        </footer>

    </div>
</body>
</html>
